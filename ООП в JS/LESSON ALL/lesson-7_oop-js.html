<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      THIS – ЗНАЧЕНИЕ В КЛАССАХ, ОБЪЕКТАХ, ФУНКЦИЯХ. СТРЕЛОЧНЫЕ ФУНКЦИИ И THIS.
      ПОНЯТИЕ КОНТЕКСТА.
    </title>
  </head>
  <body>
    <p>p-1</p>
    <p>p-2</p>
    <p>p-3</p>
    <button class="B-1">B-1</button>

    <script>
      // СТРЕЛОЧНАЯ ФУНКЦИЯ ВНУТРИ КЛАССА РАБОТАЕТ ТАК=ЖЕ КАК И ОБЫЧНАЯ ФУНКЦИЯ
      // arrow - > function - > this - > Window
      console.log(this); // Window

      //   document.querySelector(".B-1").onclick = function () {
      //     console.log(this); // <button class="B-1">B-1</button>
      //     this.style.background = "orange";
      //   };

      document.querySelector(".B-1").addEventListener("click", t1);

      function t1() {
        console.log(this); // <button class="B-1">B-1</button>
        this.style.background = "orange";
      }

      let p = document.querySelectorAll("p");
      for (let i = 0; i < p.length; i++) {
        p[i].onclick = t1;
      }

      class U2 {
        constructor(model) {
          this.model = model;
        }

        showThis() {
          console.log(this);
        }
      }
      const boat = new U2("734");
      const boat2 = new U2(333);
      console.log(boat); // U2 {model: '734'}
      console.log(boat2); // U2 {model: 333}
      boat.showThis(); // U2 {model: '734'}
      boat2.showThis(); // U2 {model: 333}

      class YellowSubmarine extends U2 {
        constructor(model, color) {
          super(model);
          this.color = color;
          console.log(this.model); // 899
        }
      }

      const b = new YellowSubmarine("899", "red");
      console.log(b); // YellowSubmarine {model: "899", color: "red"}
      console.log(b.model); // 899
    </script>
  </body>
</html>

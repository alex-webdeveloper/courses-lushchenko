<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ООП в JS - товары</title>
    <link rel="stylesheet" href="css/mustard-ui.min.css">
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div class="container">
        <h1>Unit 12. Корзина в ООП стиле</h1>
        <div class="goods"></div>
        <span>span</span>
        <button class="sp">go</button>
    </div>
    <script>
        const cart = {
            p92779: {
                name: "Мужские часы CASIO G-2900F-8VER",
                url: "#",
                image: "images/casio-g-2900f-8ver_images_1650372917.jpg",
                price: 1720.0,
            },
            p93039: {
                name: "Мужские часы CASIO AE-1000W-1AVEF",
                url: "#",
                image: "images/casio-ae-1000w-1avef_images_1675943357.jpg",
                price: 872.0,
            },
            p63553250: {
                name: "Наручные часы Casio W-800H-1AVES",
                url: "#",
                image: "images/63553250_images_9154502355.jpg",
                price: 484.0,
            },
            p93127: {
                name: "Мужские часы CASIO EF-552-1AVEF",
                url: "#",
                image: "images/casio-ef-552-1avef_images_1583730891.jpg",
                price: 2880.0,
            },
            p79946990: {
                name: "Мужские часы Casio EF-527D-1AVEF",
                url: "#",
                image: "images/79946990_images_11571324122.jpg",
                price: 4238.0,
            },
            p6533206: {
                name: "Мужские часы CASIO SGW-100-2BER",
                url: "#",
                image: "./images/6533206_images_1657626044.jpg",
                price: 2416.0,
            },
        };

        let out = '<div class="pricing-table row">';
        for (let key in cart) {
            out += `<div class="col col-md-6 col-lg-4"><div class="package featured text-center"><h2>${cart[key]["name"]}</h2><img src="${cart[key]["image"]}">
        <p class="price">${cart[key]["price"]} USD</p><button class="to-cart button-primary" data-articul="${key}">В корзину</button></div></div>`;
        }
        out += `</div>`;
        document.querySelector(".goods").innerHTML = out;

        const data = {};
        document.querySelectorAll('button').forEach(item => {
            let count = 1;
            item.onclick = function () {
                let art = this.getAttribute('data-articul');
                data[art] = cart[art];
                data[art]['count'] = count;
                count++;
                console.log(art);
                console.log(data);
                localStorage.setItem("cart", JSON.stringify(data));
            }

        }
        )




        // localStorage.setItem("cart", JSON.stringify(data));


        // console.log(cart.p79946990);

        // data.prov = 'es';
        // console.log(data.prov)
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ФУНКЦИИ ВЫСШЕГО ПОРЯДКА - ПРАКТИЧЕСКОЕ ПРИМЕНЕНИЕ</title>
</head>

<body>
    <script>
        const user = {
            age: 24,
            password: '3232ihh567',
            agreeToTerm: true
        }
        const user2 = {
            age: 34,
            password: '344jkkihh567',
            agreeToTerm: false
        }

        function checkAge(users) {
            return users.age >= 18;
        }
        function checkPassword(users) {
            return users.password.length >= 8;
        }
        function checkTerms(users) {
            return users.agreeToTerm === true;
        }
        console.log(checkPassword(user));


        function validate(obj, ...tests) {
            for (let i = 0; i < tests.length; i++) {
                if (tests[i](obj) === false) return false;
            }
            return true;
        }

        // function validate() {
        //     for (let i = 1; i < arguments.length; i++) {
        //         if (arguments[i](arguments[0]) === false) return false;
        //     }
        //     return true;
        //     console.log(arguments)
        // }
        console.log(validate(user, checkAge, checkPassword, checkTerms));



        // ФУНКЦИИ ВЫСШЕГО ПОРЯДКА
        function createValidator(...tests) {
            return function(obj) {
                for (let i = 0; i < tests.length; i++) {
                if (tests[i](obj) === false) return false;
            }
            return true;
            }
        }
        const validator1 = createValidator(checkAge, checkPassword, checkTerms);
        const validator2 = createValidator(checkAge, checkPassword);
        console.log(validator1(user2));
        console.log(validator2(user2));
    </script>
</body>

</html>